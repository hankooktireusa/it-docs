---
layout: default
title: 📘 테이블 정의
permalink: /ko/web/proposals/ePortal-roles/table-definitions/
---

<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
{% include lang-toggle.html %}

<h1>📘 테이블 정의</h1>

<details>
  <summary><strong>📑 목차 (클릭하여 펼치기)</strong></summary>
  <ul>
    <li><a href="#users-ko"><code>users</code></a></li>
    <li><a href="#roles-ko"><code>roles</code></a></li>
    <li><a href="#user_roles-ko"><code>user_roles</code></a></li>
    <li><a href="#role_corporation-ko"><code>role_corporation</code></a></li>
    <li><a href="#role_industry_segment-ko"><code>role_industry_segment</code></a></li>
    <li><a href="#permissions-ko"><code>permissions</code></a></li>
    <li><a href="#privileges-ko"><code>privileges</code></a></li>
    <li><a href="#role_permissions-ko"><code>role_permissions</code></a></li>
  </ul>
</details>

<hr />

<h2 id="users-ko"><code>users</code></h2>
<p>하나 이상의 역할을 부여할 수 있는 개별 사용자 계정을 저장합니다. 사용자는 권한 또는 권한 수준을 직접 받지 않으며, 모든 것은 부여된 역할을 통해 상속됩니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>id</code></td><td>INT</td><td>기본 키</td></tr>
    <tr><td><code>email</code></td><td>VARCHAR</td><td>사용자 이메일 주소(고유)</td></tr>
    <tr><td><code>name</code></td><td>VARCHAR</td><td>전체 이름(선택)</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>user_roles</code> → 이 사용자에게 역할을 부여</li>
</ul>

<h3>비고</h3>
<ul>
  <li>사용자는 동시에 여러 역할을 가질 수 있음</li>
  <li>권한 및 접근 수준은 전적으로 역할 상속을 통해 결정됨</li>
  <li><code>name</code>, <code>department</code>, <code>employee_id</code>와 같은 선택 메타데이터 추가 가능</li>
</ul>

<hr />

<h2 id="roles-ko"><code>roles</code></h2>
<p>권한/권한 수준 쌍을 정의하는 재사용 가능한 역할 템플릿을 저장합니다. 기본적으로 특정 사용자/법인/세그먼트에 묶이지 않으며, <code>user_roles</code>, <code>role_corporation</code>, <code>role_industry_segment</code> 테이블을 통해 컨텍스트를 가집니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>id</code></td><td>INT</td><td>역할 고유 식별자</td></tr>
    <tr><td><code>name</code></td><td>VARCHAR</td><td>표시 이름(예: “Order – WH Order Submission”)</td></tr>
    <tr><td><code>description</code></td><td>TEXT</td><td>역할 목적에 대한 선택적 설명</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>user_roles</code> → 이 역할을 사용자에게 부여</li>
  <li>🔗 <code>role_permissions</code> → 이 역할이 부여하는 권한/권한 수준 정의</li>
  <li>🔗 <code>role_corporation</code> → 역할을 하나 이상의 법인에 범위 지정</li>
  <li>🔗 <code>role_industry_segment</code> → 역할을 하나 이상의 산업 세그먼트에 범위 지정</li>
</ul>

<h3>비고</h3>
<ul>
  <li>역할 이름은 설명적이며 사용자 친화적이어야 함</li>
  <li>범위 제한이 없는 한 역할은 법인과 세그먼트 전반에 재사용 가능</li>
</ul>

<hr />

<h2 id="user_roles-ko"><code>user_roles</code></h2>
<p>사용자와 그들에게 부여된 역할을 연결합니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>user_id</code></td><td>INT</td><td><code>users.id</code>에 대한 FK</td></tr>
    <tr><td><code>role_id</code></td><td>INT</td><td><code>roles.id</code>에 대한 FK</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>users</code> → 역할이 부여되는 사용자</li>
  <li>🔗 <code>roles</code> → 사용자가 받는 권한을 정의</li>
</ul>

<h3>비고</h3>
<ul>
  <li>한 사용자는 여러 역할을 가질 수 있음(예: “Order Submitter”, “Report Viewer”)</li>
  <li>역할은 항상 이 테이블을 통해 부여됨</li>
  <li>법인/세그먼트 범위 지정은 사용자 단위가 아니라 역할 단위에서 결정됨</li>
</ul>

<hr />

<h2 id="role_corporation-ko"><code>role_corporation</code></h2>
<p>역할을 하나 이상의 법인(예: US, CA, MX)에 범위 지정합니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>role_id</code></td><td>INT</td><td><code>roles.id</code>에 대한 FK</td></tr>
    <tr><td><code>corporation</code></td><td>VARCHAR</td><td>국가 코드 또는 비즈니스 단위</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>roles</code> → 범위가 지정되는 역할</li>
</ul>

<h3>비고</h3>
<ul>
  <li>행이 없으면 전역 접근(법인 제한 없음)</li>
  <li>법인별 정책 강제에 사용</li>
  <li>코드는 표준 법인 정의와 일치해야 함</li>
</ul>

<hr />

<h2 id="role_industry_segment-ko"><code>role_industry_segment</code></h2>
<p>역할을 하나 이상의 산업 세그먼트에 범위 지정합니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>role_id</code></td><td>INT</td><td><code>roles.id</code>에 대한 FK</td></tr>
    <tr><td><code>industry_segment</code></td><td>VARCHAR</td><td>세그먼트 라벨(예: “Fleet”, “Retail”)</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>roles</code> → 범위가 지정되는 역할</li>
</ul>

<h3>비고</h3>
<ul>
  <li>세그먼트가 없으면 전체에 적용 가능</li>
  <li>여러 행으로 여러 세그먼트에 할당 가능</li>
  <li>플랫폼 전반에서 표준화된 명칭 사용 권장</li>
</ul>

<hr />

<h2 id="permissions-ko"><code>permissions</code></h2>
<p>기능(feature)과 작업(action) 유형으로 그룹화된 고유 시스템 동작을 나타냅니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>id</code></td><td>INT</td><td>권한 고유 식별자</td></tr>
    <tr><td><code>name</code></td><td>VARCHAR</td><td>표준 라벨</td></tr>
    <tr><td><code>feature</code></td><td>VARCHAR</td><td>최상위 카테고리</td></tr>
    <tr><td><code>action</code></td><td>VARCHAR</td><td>작업 유형</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>role_permissions</code> → 이 권한을 특정 역할에 부여</li>
</ul>

<h3>비고</h3>
<ul>
  <li>UI에서 그룹화 및 필터링 가능</li>
  <li>시스템 간 일관성을 위해 이름은 안정적으로 유지</li>
  <li>역할과 법인 전반에서 재사용</li>
</ul>

<hr />

<h2 id="privileges-ko"><code>privileges</code></h2>
<p>주어진 권한에 대해 사용자가 갖는 접근 수준을 정의합니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>code</code></td><td>CHAR(1)</td><td>고유 코드: A, S, U, 또는 L</td></tr>
    <tr><td><code>label</code></td><td>VARCHAR</td><td>전체 명칭: Access, Stock 등</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>role_permissions</code> → 권한을 통해 역할과 연결</li>
</ul>

<h3>비고</h3>
<ul>
  <li>현재 값:
    <ul>
      <li><code>A</code>: Access</li>
      <li><code>S</code>: Stock</li>
      <li><code>U</code>: Unit Price</li>
      <li><code>L</code>: List Price</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="role_permissions-ko"><code>role_permissions</code></h2>
<p>역할을 권한에 연결하고, 적용되는 구체적인 권한 수준을 정의합니다.</p>

<h3>컬럼</h3>
<table>
  <thead>
    <tr><th>컬럼</th><th>유형</th><th>설명</th></tr>
  </thead>
  <tbody>
    <tr><td><code>role_id</code></td><td>INT</td><td><code>roles.id</code>에 대한 FK</td></tr>
    <tr><td><code>permission_id</code></td><td>INT</td><td><code>permissions.id</code>에 대한 FK</td></tr>
    <tr><td><code>privilege_code</code></td><td>CHAR(1)</td><td><code>privileges.code</code>에 대한 FK</td></tr>
  </tbody>
</table>

<h3>관계</h3>
<ul>
  <li>🔗 <code>roles</code> → 권한이 적용되는 대상</li>
  <li>🔗 <code>permissions</code> → 허용되는 동작</li>
  <li>🔗 <code>privileges</code> → 접근 수준</li>
</ul>

<h3>비고</h3>
<ul>
  <li>동일한 권한에 대해 서로 다른 권한 수준으로 중복 매핑 가능</li>
  <li>역할 수준에서 최소 권한 원칙을 강제</li>
  <li>법인/세그먼트 범위 지정은 여기서 하지 않으며, <code>role_corporation</code> 및 <code>role_industry_segment</code>에서 이루어짐</li>
</ul>
