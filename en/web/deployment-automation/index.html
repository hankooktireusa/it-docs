---
layout: default
title: ⚙️ Deployment Automation for CustomerPortal (CP) and WebOrder (WO)
permalink: /en/web/deployment-automation/
---

<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
{% include lang-toggle.html %}

<h1>⚙️ Deployment Automation for CustomerPortal (CP) and WebOrder (WO)</h1>

<p>This project automates the deployment of <strong>CustomerPortal (CP)</strong> and <strong>WebOrder (WO)</strong> applications to DEV and PROD environments using PowerShell, WinSCP, and PuTTY.</p>

<hr />

<h2>📥 Download Scripts</h2>

<p>To run this deployment automation locally:</p>
<ol>
  <li><a href="{{ '/en/web/deployment-automation/deployment-automation-scripts.zip' | relative_url }}">⬇️ Download deployment-automation-scripts.zip</a></li>
  <li>Extract it to:
    <pre><code>C:\scripts\deployment-automation</code></pre>
  </li>
  <li>Open PowerShell and run:
    <pre><code class="language-powershell">.\main.ps1</code></pre>
  </li>
</ol>

<p>For full setup and configuration instructions, refer to the <strong>README.md inside the ZIP bundle</strong>.</p>

<hr />

<h2>✨ Features</h2>
<ul>
  <li>🔄 Environment-aware config switching (datasource, SAP, WSDL)</li>
  <li>⚙️ Optional Maven build step</li>
  <li>📦 Safe WAR/ROOT backup and transfer via WinSCP</li>
  <li>🔐 Dynamic SSH host key trust for PuTTY and WinSCP</li>
  <li>🖥️ PuTTY automation for Tomcat restart and live log monitoring</li>
  <li>🔁 Seamless PROD1 → PROD2 continuation using the same WAR file</li>
  <li>⏪ Post-deployment prompts, rollback, and cleanup support</li>
</ul>

<hr />

<h2>📁 Script Structure (Included in ZIP)</h2>
<pre><code class="language-yaml">deployment-automation/
├── config.ps1                           # Shared paths, session names, and SSH host keys
├── main.ps1                             # Main entry point to automate full deployment
├── README.md                            # Full usage guide and setup instructions
│
├── lib/
│   ├── git.ps1
│   ├── maven.ps1
│   ├── post-check-prompts.ps1
│   ├── post-check-and-rollback.ps1
│   ├── putty-automation.ps1
│   ├── putty.ps1
│   ├── rollback-deployment.ps1
│   ├── verify-war-file.ps1
│   ├── winscp-deploy.ps1
│   └── deploy-to-second-prod.ps1
│
└── switch-env-servers/
    ├── switch-datasource-server.ps1
    ├── switch-sap-properties.ps1
    └── switch-wsdl-info.ps1
</code></pre>

<hr />

<h2>🧭 Deployment Flow Overview</h2>
<pre><code>          ┌───────────────┐
          │  Select App   │
          └───────┬───────┘
                  ▼
           ┌──────▼──────┐
           │ Select Env  │
           └──────┬──────┘
                  ▼
      ┌───────────▼────────────┐
      │      Git Pull          │  ← Skipped on PROD2 continuation
      └───────────┬────────────┘
                  ▼
         ┌────────▼────────┐
         │  Config Switch  │
         └────────┬────────┘
                  ▼
        ┌─────────▼─────────┐
        │ Run Maven Build   │
        └─────────┬─────────┘
                  ▼
        ┌─────────▼──────────┐
        │ Validate WAR File  │
        └─────────┬──────────┘
                  ▼
     ┌────────────▼─────────────┐
     │  Start PuTTY Sessions    │
     └────────────┬─────────────┘
                  ▼
   ┌──────────────▼──────────────┐
   │ Transfer WAR using WinSCP   │
   └──────────────┬──────────────┘
                  ▼
  ┌───────────────▼────────────────┐
  │ Rename existing WAR → backup   │
  │ Deploy new WAR as ROOT.war     │
  └───────────────┬────────────────┘
                  ▼
     ┌────────────▼─────────────┐
     │ Restart Tomcat via PuTTY │
     └────────────┬─────────────┘
                  ▼
     ┌────────────▼────────────┐
     │ Check Logs + Rollback?  │
     └────────────┬────────────┘
                  ▼
         ┌────────▼────────┐
         │ Deploy to PROD2?│
         └────────┬────────┘
                  ▼ Yes
      (Resume from: PuTTY session → WAR upload → restart)
                  ▼
     ┌────────────▼──────────────┐
     │ Revert Configs to LOCAL   │
     │ Close open PuTTY sessions │
     └───────────────────────────┘
</code></pre>

<hr />

<h2>👥 For New Developers</h2>
<p>This tool walks you through the full deployment flow for both CP and WO projects. It includes prompts, verifications, and safe rollback support. You’ll be guided step-by-step — just follow the on-screen instructions.</p>
<p>Ask a teammate to shadow you on your first run!</p>
